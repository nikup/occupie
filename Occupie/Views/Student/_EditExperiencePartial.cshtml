@model Occupie.Models.Student

<figure class="main isotope-item" style="width: 100%; margin-top: 20px; margin-bottom: 20px;" id="experience">
    <figcaption>
        <h4 class="heading">Опит</h4>
        <div id="editExperience">
            <div class="exp-padding">
                <div class="alignleft">
                    @* Jobs *@

                    <div id="jobPartial">
                        @Html.Partial("../Job/_JobPartial")
                    </div>

                    @Ajax.ActionLink("Добави работно място", "AddJob", "Job", new AjaxOptions { HttpMethod = "GET", UpdateTargetId = "jobDialog", InsertionMode = InsertionMode.Replace, OnSuccess = "openJobPopup" })<br />

                    <div class="dialog" id="jobDialog" style="display: none;"></div>

                    @* Jobs *@
                </div>


                <div class="alignleft">
                    @* Projects *@
                    <div id="projectsPartial">
                        @Html.Partial("../Project/_ProjectPartial")
                    </div>

                    @Ajax.ActionLink("Добави проект", "AddProject", "Project", new AjaxOptions { HttpMethod = "GET", UpdateTargetId = "projectDialog", InsertionMode = InsertionMode.Replace, OnSuccess = "openProjectPopup" })<br />

                    <div class="dialog" id="projectDialog" style="display: none;"></div>
                    @* Projects *@
                </div>

                <div class="alignleft">
                    @* Technologies *@
                    <div id="techPartial">
                        @Html.Partial("../Technology/_TechnologyPartial")
                    </div>

                    @Ajax.ActionLink("Добави технология", "AddTechnology", "Technology", new AjaxOptions { HttpMethod = "GET", UpdateTargetId = "techDialog", InsertionMode = InsertionMode.Replace, OnSuccess = "openTechPopup" })<br />

                    @* Technologies *@
                </div>



                <div class="dialog" id="techDialog" style="display: none;"></div>

                @*Other fields*@
                <div class="editor-label">
                    @Html.LabelFor(model => model.WorkTimePreference)
                </div>
                <div class="editor-field">
                    @Html.DropDownListFor(model => model.WorkTimePreference, new SelectList(Occupie.Utilities.GetWorkTimePreferences(), "Value", "Text"))
                    @Html.ValidationMessageFor(model => model.WorkTimePreference)
                </div>

                <div class="editor-label">
                    @Html.LabelFor(model => model.WorkStatus)
                </div>
                <div class="editor-field">
                    @Html.DropDownListFor(model => model.WorkStatus, new SelectList(Occupie.Utilities.GetWorkStatuses(), "Value", "Text"))
                    @Html.ValidationMessageFor(model => model.WorkStatus)
                </div>
                @*Other fields*@
            </div>
        </div>
    </figcaption>
</figure>

<script type="text/javascript">
    $(document).ready(function () {
        $("#jobDialog").dialog(
            {
                autoOpen: false,
                width: 300,
                height: 'auto',
                modal: true
            }
        );
    });
    function openJobPopup() {
        $("#jobDialog").dialog("open");
    }

    function deleteJob(id) {
        $("#job" + id).remove();
    }

    $(document).ready(function () {
        $("#projectDialog").dialog(
            {
                autoOpen: false,
                width: 300,
                height: 'auto',
                modal: true
            }
        );
    });
    function openProjectPopup() {
        $("#projectDialog").dialog("open");
    }

    function deleteProject(id) {
        $("#project" + id).remove();
    }

    $(document).ready(function () {
        $("#techDialog").dialog(
            {
                autoOpen: false,
                width: 300,
                height: 'auto',
                modal: true
            }
        );
    });
    function openTechPopup() {
        $("#techDialog").dialog("open");
    }

    function deleteTech(id) {
        $("#tech" + id).remove();
    }
</script>

<script>
    $("#WorkTimePreference").kendoDropDownList();
    $("#WorkStatus").kendoDropDownList();

    for (var i = 0; i < ('@Model.Technologies.Count') ; i++) {
        $("#Technologies_" + i + "__Proficiency").kendoDropDownList();
    }

    var curYear = '@DateTime.Now.Year';
    var curMonth = '@DateTime.Now.Month';
    var curDay = '@DateTime.Now.Day';


    $("#Jobs_0_StartDate").kendoDatePicker(
        {
            format: "dd MMMM yyyy",
            start: "century",
            depth: "month",
            culture: "bg-BG",
            value: new Date('@Model.GetDateOfBirth()'),
            max: new Date(curYear, curMonth - 1, curDay)
        });

</script>
